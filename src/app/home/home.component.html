<div class="content col-md-12 pt-2" role="main">
  <p class="h1 text-primary">Angular material procurement Form </p>

  <mat-card>
    <mat-card-content>
      <form class="example-form" (ngSubmit)="onSubmit()" [formGroup]="procureForm">
        <mat-form-field class="example-full-width">
          <mat-label>Select product</mat-label>
          <mat-select formControlName="productName"  required>
            <mat-option>Select</mat-option>
            <mat-option *ngFor="let product of products"  [value]="product">
              {{product.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="!procureForm.controls['productName'].valid && procureForm.controls['productName'].touched">Please choose a product</mat-error>
          <mat-hint>Select the product to order</mat-hint>
        </mat-form-field>


        <mat-form-field class="example-full-width">
          <mat-label>Model</mat-label>
          <select matNativeControl required formControlName="model">
            <option label="--select something --"></option>
            <option>2018</option>
            <option>2019</option>
            <option>2020</option>
          </select>
          <mat-error *ngIf="!procureForm.controls['model'].valid"> 
            This field is required
          </mat-error>
          <mat-hint>You can choose the year here</mat-hint>
        </mat-form-field>
      
        <mat-lable>Price range in INR</mat-lable>
        <mat-slider min="0" max="100" step="10" value="10" formControlName="price" [(ngModel)]="PPU"></mat-slider>
        <span>{{PPU}}</span>
        <mat-error *ngIf="!procureForm.controls['price'].valid">Please select unit price</mat-error>
        
        
        <mat-form-field class="example-full-width">
          <mat-label>Delivery date</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="date">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="!procureForm.controls['date'].valid || !procureForm.controls['date'].touched">Choose a date in future</mat-error>

        </mat-form-field>
        
        <mat-form-field class="example-full-width">
          <mat-label>Number of units</mat-label>
          <input type="text"
                placeholder="Pick one"
                aria-label="Number"
                matInput
                formControlName="units"
                [matAutocomplete]="auto" />
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let option of options" [value]="option">
              {{option}}
            </mat-option>
          </mat-autocomplete>
          <mat-error *ngIf="!procureForm.controls['units'].touched">Please select number of units</mat-error>
        </mat-form-field>
        
        <mat-label>Payment Mode</mat-label>
        <mat-slide-toggle class="example-margin" [color]="color" [checked]="checked" [disabled]="disabled" (change)="isChecked()" formControlName="payment"></mat-slide-toggle>
        <span *ngIf="checked; else offline">Online</span>
        <ng-template #offline><span>Offline</span></ng-template>
        
        <mat-form-field class="example-full-width">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="Ex. pat@example.com">
          <mat-error *ngIf="!procureForm.controls['email'].valid && procureForm.controls['email'].touched">Please enter a valid email</mat-error>
        </mat-form-field>
       
        <mat-radio-group class="example-margin" aria-label="Select an option" formControlName="consignment">
          <mat-radio-button class="radio-element" value="domestic">Domestic</mat-radio-button>
          <mat-radio-button class="radio-element" value="international">International</mat-radio-button>
          <mat-error *ngIf="!procureForm.controls['consignment'].valid && !procureForm.controls['consignment'].touched"><span>Please select one</span></mat-error>
        </mat-radio-group> 
                
        <div class="example-full-width">
          <mat-checkbox class="example-margin" [(ngModel)]="boxChecked"  [disabled]="boxDisabled" [labelPosition]="label" formControlName="express">Express delivery</mat-checkbox>
        </div>
     

        <div class="example-margin">
          <button mat-raised-button color="primary" type="submit" class="button" [disabled]="!procureForm.valid">Submit</button>
        </div>
      </form>
    </mat-card-content>
 </mat-card>
</div>



